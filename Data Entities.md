# Data Entities.md

---

## 목적
이 문서는 BMTA 서비스에서 **존재하는 데이터 개념과 그 관계**를 정의한다.  
저장 방식, 필드 타입, DB 스키마는 이 문서의 범위가 아니다.

AI는 이 문서에 정의되지 않은 데이터 개념을
임의로 생성하거나 변경하지 않는다.

---

## User (사용자)
**정의**
- 서비스를 이용하는 주체

**규칙**
- 비로그인 상태에서는 읽기만 가능
- 로그인 시 글/댓글/쪽지/포인트 사용 가능
- 닉네임은 랜덤 생성 (변경 정책은 별도 정의)

---

## Post (게시글)
**정의**
- 사용자가 특정 맥락에서 작성한 콘텐츠

**규칙**
- Post는 반드시 하나의 Channel과 Topic을 가진다
- Post는 하나의 FeedContext에 속한다
- 삭제는 soft delete 개념으로 처리될 수 있다

---

## Comment (댓글)
**정의**
- Post에 대한 사용자 반응

**규칙**
- Comment는 하나의 Post에만 속한다
- 대댓글 구조는 이번 버전에서 다루지 않는다

---

## Channel (이동 수단)
**정의**
- 게시글이 작성된 교통 수단의 종류

**값의 범위**
- 버스
- 지하철
- 택시

**규칙**
- Channel은 고정된 분류 값이며 동적으로 추가되지 않는다

---

## Topic (게시글 주제)
**정의**
- 게시글의 성격을 나타내는 분류

**값의 범위**
- 전체
- 실시간 톡
- 사람을 찾아요
- 이용 후기

---

## FeedContext (맥락)
**정의**
- 게시글이 발생한 “장소/노선/상황”의 맥락

**예시**
- 버스: routeId
- 지하철: stationId
- 택시: 지역 또는 임시 컨텍스트

**규칙**
- FeedContext는 Post와 1:1 관계
- 구현 방식은 PRD/작업 지시 단계에서 결정

---

## BM Up (좋아요)
**정의**
- 게시글에 대한 긍정 반응

**규칙**
- 사용자당 게시글 1회만 가능
- BoomUp 발생 시 작성자에게 1P 적립

---

## Point (포인트)
**정의**
- 서비스 내 활동 보상 및 제약 수단

**규칙**
- BM Up을 받을 때만 적립
- 쪽지 전송 시 1,000P 차감
- 차감 실패 시 동작은 취소된다

---

## Message (쪽지)
**정의**
- 사용자 간 1:1 개인 메시지

**규칙**
- 쪽지 전송은 포인트 차감과 원자적으로 처리된다
- 수신/발신 정책은 별도 정의

---
